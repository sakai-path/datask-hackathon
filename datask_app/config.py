# =============================================================================
# ğŸ”§ config.py - ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆæƒ…å ±ã®å–å¾—ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
# -----------------------------------------------------------------------------
# ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã¯ã€Streamlitã® secrets ã¾ãŸã¯ç’°å¢ƒå¤‰æ•°ã‹ã‚‰
# å®‰å…¨ã«æ¥ç¶šæƒ…å ±ã‚„APIã‚­ãƒ¼ã‚’å–å¾—ã™ã‚‹ãŸã‚ã®é–¢æ•°ã‚’æä¾›ã—ã¾ã™ã€‚
#
# ä½¿ç”¨ä¾‹ï¼š
#   from config import secret
#   key = secret("AZURE_OPENAI_API_KEY")
#
# å„ªå…ˆé †ä½ï¼š st.secrets > ç’°å¢ƒå¤‰æ•° > ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ï¼ˆçœç•¥å¯ï¼‰
# =============================================================================

import os
import streamlit as st

def secret(key: str, default: str | None = None) -> str | None:
    """
    Streamlit secrets ã¾ãŸã¯ OSç’°å¢ƒå¤‰æ•°ã‹ã‚‰å€¤ã‚’å–å¾—ã™ã‚‹ã€‚

    Parameters:
    - key: ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼ã®åå‰ï¼ˆä¾‹: "AZURE_SQL_PASSWORD"ï¼‰
    - default: è©²å½“ã‚­ãƒ¼ãŒãªã‹ã£ãŸå ´åˆã«è¿”ã™ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ï¼ˆçœç•¥å¯ï¼‰

    Returns:
    - æ–‡å­—åˆ—ï¼ˆè¨­å®šå€¤ï¼‰ã¾ãŸã¯ None
    """
    return st.secrets.get(key) or os.getenv(key) or default
